<section class="gradient-custom">
    <div class="container py-5 h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-12 col-md-11 col-lg-10 col-xl-9">
                <div class="card bg-dark text-white" style="border-radius: 0.5rem;">
                    <div class="card-body p-5 text-center">

                        <div class="mb-md-5 mt-md-4">
                            <h2 class="fw-bold mb-2 text-uppercase">
                                REGISTRARME
                            </h2>
                            <p class="text-white-50 mb-5">
                                Complete el formulario para continuar
                            </p>
                            <form [formGroup]="form">
                                <div class="row">
                                    <div class="col-md-5">
                                        <mat-form-field appearance="outline" color="accent" class="form-full">
                                            <mat-label>Nombre</mat-label>
                                            <input matInput formControlName="name" placeholder="Ingrese su nombre"
                                                type="text" />
                                                <mat-error *ngIf="form.controls['name'].errors?.['required']">Campo requerido</mat-error>
                                                <mat-error *ngIf="form.controls['name'].errors?.['minLength']">El nombre debe contener al menos 3 caracteres</mat-error>
                                                <mat-error *ngIf="form.controls['name'].errors?.['pattern']">El nombre debe contener solo letras</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-7">
                                        <mat-form-field appearance="outline" color="accent" class="form-full">
                                            <mat-label>Apellidos</mat-label>
                                            <input matInput formControlName="apellido"
                                                placeholder="Ingrese sus apellidos" type="text" />
                                                <mat-error *ngIf="form.controls['apellido'].errors?.['required']">Campo requerido</mat-error>
                                                <mat-error *ngIf="form.controls['apellido'].errors?.['minLength']">El apellido debe contener al menos 3 caracteres</mat-error>
                                                <mat-error *ngIf="form.controls['apellido'].errors?.['pattern']">El apellido debe contener solo letras</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-3">
                                        <mat-form-field appearance="outline" color="accent" class="form-full">
                                            <mat-label>Edad</mat-label>
                                            <input matInput formControlName="edad" min="0" placeholder="Edad" type="number" />
                                            <mat-error *ngIf="form.controls['edad'].errors?.['required']">Campo
                                                requerido</mat-error>
                                            <mat-error *ngIf="form.controls['edad'].errors?.['min']">Debe ser mayor de
                                                edad</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-9">
                                        <mat-form-field appearance="outline" color="accent" class="form-full">
                                            <mat-label>Correo electrónico</mat-label>
                                            <input matInput formControlName="email"
                                                placeholder="Ingrese su correo electrónico" type="email" />
                                            <mat-error *ngIf="form.controls['email'].errors?.['email']">Ingrese un correo
                                                electrónico válido</mat-error>
                                            <mat-error *ngIf="form.controls['email'].errors?.['required']">Campo requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6">
                                        <mat-form-field appearance="outline" color="accent" class="form-full">
                                            <mat-label>Contraseña</mat-label>
                                            <input matInput (keyup)="validaPwds()" matInput
                                                [type]="clear ? 'text' : 'password'" formControlName="password"
                                                placeholder="Ingrese su contraseña" />
                                            <mat-icon class="puntero" (click)="clear = !clear" matSuffix
                                                [color]="clear ? 'accent' : ''">
                                                {{ clear ? "visibility" : "visibility_off" }}
                                            </mat-icon>
                                            <mat-error *ngIf="form.controls['password'].errors?.['required']">Campo requerido</mat-error>
                                            <mat-error *ngIf="form.controls['password'].errors?.['pattern']">La contraseña debe contener al menos 8 caracteres, 1 mayúscula y 1 minúscula</mat-error>
                                        </mat-form-field>
                                    </div>
                                    <div class="col-md-6">
                                        <mat-form-field appearance="outline" color="accent" class="form-full">
                                            <mat-label>Confirmar contraseña</mat-label>
                                            <input matInput (keyup)="validaPwds()" matInput
                                                [type]="clearConfirm ? 'text' : 'password'" formControlName="password2"
                                                placeholder="Confirme su contraseña" />
                                            <mat-icon class="puntero" (click)="clearConfirm = !clearConfirm" matSuffix
                                                [color]="clearConfirm ? 'accent' : ''">
                                                {{ clearConfirm ? "visibility" : "visibility_off" }}
                                            </mat-icon>
                                            <mat-error *ngIf="form.controls['password2'].errors?.['required']">Campo requerido</mat-error>
                                        </mat-form-field>
                                    </div>
                                </div>
                                <div class="alert alert-danger col-md-12" role="alert"
                                    *ngIf="!pwdsCoinciden && pwdsValue">
                                    Las contraseñas no coinciden!
                                </div>
                            </form>
                            <button class="btn btn-outline-light px-5 my-4" (click)="validateEmail()"
                                [disabled]="form.invalid" type="button">
                                Registrarme
                            </button>
                        </div>

                        <div>
                            <p class="mb-0">Ya tienes una cuenta?
                                <a href="/home/login" class="text-white-50">Iniciar sesión</a>
                            </p>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>