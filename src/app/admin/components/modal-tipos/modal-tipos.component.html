<main>
    <header class="modal-header">
        <div class="modal-title">
            {{data.isNew ? 'Nuevo': 'Editar'}} tipo
        </div>

        <button mat-icon-button mat-dialog-close tabindex="-1">
            <mat-icon class="close-icon btn-close-modal">close</mat-icon>
        </button>
    </header>

    <section class="modal-body">
        <form [formGroup]="form">
            <div class="row">
                <div class="col-md-5">
                    <div class="col-xs-12 mb-4" color="accent" appearance="outline">
                        <div class="col-xs-12 d-flex justify-content-center mb-3 container-image">
                            <img *ngIf="data.isNew" src="../../../../assets/resources/default.png"
                                #imagenPrevisualizacion class="img-fluid" alt="Imagen del tipo de licor">
                            <img *ngIf="!data.isNew" src="{{urlImage}}/{{imageName}}" #imagenPrevisualizacion
                                class="img-fluid" alt="Imagen del tipo de licor">
                        </div>
                        <input class="form-control" #inputFile type="file" accept="image/*" (change)="seleccionarImagen($event)">
                    </div>
                </div>
                <div class="col-md-7">
                    <div class="row">
                        <mat-form-field class="col-xs-12" color="accent" appearance="outline">
                            <mat-label>Nombre del tipo de licor</mat-label>
                            <input matInput type="text" placeholder="Nombre de la categoría" formControlName="name" />
                            <mat-error *ngIf="form.controls['name'].errors?.['required']">Campo
                                requerido</mat-error>
                            <mat-error *ngIf="form.controls['name'].errors?.['pattern']">El nombre debe
                                contener solo letras</mat-error>
                        </mat-form-field>
                    </div>
                    <div class="row">
                        <mat-form-field class="col-xs-12" color="accent" appearance="outline">
                            <mat-label>Descripción</mat-label>
                            <textarea matInput type="text" rows="5" placeholder="Descripción de la categoría"
                                formControlName="description"></textarea>
                            <mat-error *ngIf="form.controls['description'].errors?.['required']">Campo
                                requerido</mat-error>
                        </mat-form-field>
                    </div>
                </div>
            </div>

        </form>
    </section>

    <section class="footer">
        <button [disabled]="form.invalid || data.isNew && objImagen.nombreArchivo.length === 0" mat-raised-button class="k-btn-pry-yellow" (click)="submit()">
            <mat-icon>{{data.isNew ? 'add': 'edit'}}</mat-icon>
            {{data.isNew ? 'Crear': 'Actualizar'}} tipo de licor</button>
    </section>

</main>